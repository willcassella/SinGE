cxx_library(
    name = "libdeflate",
    visibility = [
        "PUBLIC",
    ],
    srcs = [
        "src/lib/adler32.c",
        "src/lib/arm/cpu_features.c",
        "src/lib/deflate_compress.c",
        "src/lib/deflate_decompress.c",
        "src/lib/utils.c",
        "src/lib/x86/cpu_features.c",
        "src/lib/zlib_compress.c",
        "src/lib/zlib_decompress.c",
    ],
    headers = [
        "src/common_defs.h",
        "src/lib/arm/adler32_impl.h",
        "src/lib/arm/cpu_features.h",
        "src/lib/arm/crc32_impl.h",
        "src/lib/arm/crc32_pmull_helpers.h",
        "src/lib/arm/crc32_pmull_wide.h",
        "src/lib/arm/matchfinder_impl.h",
        "src/lib/bt_matchfinder.h",
        "src/lib/cpu_features_common.h",
        "src/lib/crc32_multipliers.h",
        "src/lib/crc32_tables.h",
        "src/lib/decompress_template.h",
        "src/lib/deflate_compress.h",
        "src/lib/deflate_constants.h",
        "src/lib/gzip_constants.h",
        "src/lib/hc_matchfinder.h",
        "src/lib/ht_matchfinder.h",
        "src/lib/lib_common.h",
        "src/lib/matchfinder_common.h",
        "src/lib/x86/adler32_impl.h",
        "src/lib/x86/adler32_template.h",
        "src/lib/x86/cpu_features.h",
        "src/lib/x86/crc32_impl.h",
        "src/lib/x86/crc32_pclmul_template.h",
        "src/lib/x86/decompress_impl.h",
        "src/lib/x86/matchfinder_impl.h",
        "src/lib/zlib_constants.h",
    ],
    exported_headers = {
        "libdeflate.h": "src/libdeflate.h",
    },
    header_namespace = "",
)
