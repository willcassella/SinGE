cxx_library(
    name = "config",
    visibility = [
        "PUBLIC"
    ],
    exported_headers = [
        "OpenEXRConfig.h",
        "IlmThreadConfig.h",
        "OpenEXRConfigInternal.h",
    ],
    header_namespace = "",
)

cxx_library(
    name = "OpenEXRCore",
    visibility = [
        "PUBLIC"
    ],
    srcs = [
        "src/src/lib/OpenEXRCore/attributes.c",
        "src/src/lib/OpenEXRCore/base.c",
        "src/src/lib/OpenEXRCore/channel_list.c",
        "src/src/lib/OpenEXRCore/chunk.c",
        "src/src/lib/OpenEXRCore/coding.c",
        "src/src/lib/OpenEXRCore/compression.c",
        "src/src/lib/OpenEXRCore/context.c",
        "src/src/lib/OpenEXRCore/debug.c",
        "src/src/lib/OpenEXRCore/decoding.c",
        "src/src/lib/OpenEXRCore/encoding.c",
        "src/src/lib/OpenEXRCore/float_vector.c",
        "src/src/lib/OpenEXRCore/internal_b44.c",
        "src/src/lib/OpenEXRCore/internal_b44_table.c",
        "src/src/lib/OpenEXRCore/internal_dwa.c",
        "src/src/lib/OpenEXRCore/internal_huf.c",
        "src/src/lib/OpenEXRCore/internal_piz.c",
        "src/src/lib/OpenEXRCore/internal_pxr24.c",
        "src/src/lib/OpenEXRCore/internal_rle.c",
        "src/src/lib/OpenEXRCore/internal_structs.c",
        "src/src/lib/OpenEXRCore/internal_zip.c",
        "src/src/lib/OpenEXRCore/memory.c",
        "src/src/lib/OpenEXRCore/opaque.c",
        "src/src/lib/OpenEXRCore/pack.c",
        "src/src/lib/OpenEXRCore/parse_header.c",
        "src/src/lib/OpenEXRCore/part.c",
        "src/src/lib/OpenEXRCore/part_attr.c",
        "src/src/lib/OpenEXRCore/preview.c",
        "src/src/lib/OpenEXRCore/std_attr.c",
        "src/src/lib/OpenEXRCore/string.c",
        "src/src/lib/OpenEXRCore/string_vector.c",
        "src/src/lib/OpenEXRCore/unpack.c",
        "src/src/lib/OpenEXRCore/validation.c",
        "src/src/lib/OpenEXRCore/write_header.c",
    ],
    headers = [
        "src/src/lib/OpenEXRCore/backward_compatibility.h",
        "src/src/lib/OpenEXRCore/dwaLookups.h",
        "src/src/lib/OpenEXRCore/internal_attr.h",
        "src/src/lib/OpenEXRCore/internal_channel_list.h",
        "src/src/lib/OpenEXRCore/internal_coding.h",
        "src/src/lib/OpenEXRCore/internal_compress.h",
        "src/src/lib/OpenEXRCore/internal_constants.h",
        "src/src/lib/OpenEXRCore/internal_cpuid.h",
        "src/src/lib/OpenEXRCore/internal_decompress.h",
        "src/src/lib/OpenEXRCore/internal_dwa_channeldata.h",
        "src/src/lib/OpenEXRCore/internal_dwa_classifier.h",
        "src/src/lib/OpenEXRCore/internal_dwa_compressor.h",
        "src/src/lib/OpenEXRCore/internal_dwa_decoder.h",
        "src/src/lib/OpenEXRCore/internal_dwa_encoder.h",
        "src/src/lib/OpenEXRCore/internal_dwa_helpers.h",
        "src/src/lib/OpenEXRCore/internal_dwa_simd.h",
        "src/src/lib/OpenEXRCore/internal_file.h",
        "src/src/lib/OpenEXRCore/internal_float_vector.h",
        "src/src/lib/OpenEXRCore/internal_huf.h",
        "src/src/lib/OpenEXRCore/internal_memory.h",
        "src/src/lib/OpenEXRCore/internal_opaque.h",
        "src/src/lib/OpenEXRCore/internal_posix_file_impl.h",
        "src/src/lib/OpenEXRCore/internal_preview.h",
        "src/src/lib/OpenEXRCore/internal_string.h",
        "src/src/lib/OpenEXRCore/internal_string_vector.h",
        "src/src/lib/OpenEXRCore/internal_structs.h",
        "src/src/lib/OpenEXRCore/internal_util.h",
        "src/src/lib/OpenEXRCore/internal_win32_file_impl.h",
        "src/src/lib/OpenEXRCore/internal_xdr.h",
        "src/src/lib/OpenEXRCore/openexr_version.h",
    ],
    exported_headers = {
        "openexr.h": "src/src/lib/OpenEXRCore/openexr.h",
        "openexr_attr.h": "src/src/lib/OpenEXRCore/openexr_attr.h",
        "openexr_base.h": "src/src/lib/OpenEXRCore/openexr_base.h",
        "openexr_chunkio.h": "src/src/lib/OpenEXRCore/openexr_chunkio.h",
        "openexr_coding.h": "src/src/lib/OpenEXRCore/openexr_coding.h",
        "openexr_compression.h": "src/src/lib/OpenEXRCore/openexr_compression.h",
        "openexr_config.h": "src/src/lib/OpenEXRCore/openexr_config.h",
        "openexr_context.h": "src/src/lib/OpenEXRCore/openexr_context.h",
        "openexr_debug.h": "src/src/lib/OpenEXRCore/openexr_debug.h",
        "openexr_decode.h": "src/src/lib/OpenEXRCore/openexr_decode.h",
        "openexr_encode.h": "src/src/lib/OpenEXRCore/openexr_encode.h",
        "openexr_errors.h": "src/src/lib/OpenEXRCore/openexr_errors.h",
        "openexr_part.h": "src/src/lib/OpenEXRCore/openexr_part.h",
        "openexr_std_attr.h": "src/src/lib/OpenEXRCore/openexr_std_attr.h",
    },
    exported_deps = [
        ":config",
        "//lib/third_party/Imath:Imath",
    ],
    deps = [
        "//lib/third_party/libdeflate:libdeflate",
    ],
)
